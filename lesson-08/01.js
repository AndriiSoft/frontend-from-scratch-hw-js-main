/*
  –ò–∑—É—á–∏—Ç–µ —Ñ–∞–π–ª index.html (—Å–µ–∫—Ü–∏—é "–£—Ä–æ–∫ 8"). –†–∞–∑–º–µ—Ç–∫–∞ —É–∂–µ –Ω–∞–ø–∏—Å–∞–Ω–æ - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ js-–∫–æ–¥.

  –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–∞–≥–∞–∑–∏–Ω–∞ –ø–∏—Ç–æ–º—Ü–µ–≤ –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤. –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É.
  –í–∞—à–∞ –∑–∞–¥–∞—á–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É.

  1. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –ø–∏—Ç–æ–º—Ü–µ–º, id –ø–∏—Ç–æ–º—Ü–∞ –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ –º–∞—Å—Å–∏–≤ cart.
  2. –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é updateCartDisplay (–æ–Ω–∞ –æ–±–Ω–æ–≤–∏—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã).
  3. –í –∫–æ—Ä–∑–∏–Ω—É –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ –±–æ–ª–µ–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ, —Ç–æ –≤ messageBox –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—Å—è —Ç–µ–∫—Å—Ç: '–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤'

  ‚ùï‚ùï‚ùï –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ –∑–∞–¥–∞–Ω–∏–∏ –∫–æ–¥ –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ–ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è.

  üßô –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑—É–π –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
  üßô –ü–æ–¥—Å–∫–∞–∑–∫–∞: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω–µ—Ç –ø–æ –∫–Ω–æ–ø–∫–µ —Å –ø–∏—Ç–æ–º—Ü–µ–≤, id –ø–∏—Ç–æ–º—Ü–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Å–æ–±—ã—Ç–∏—è (event.target.id)
*/

const PETS = [ // –°–æ–∑–¥–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ PETS, –≥–¥–µ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–∏—Ç–æ–º—Ü–∞
// —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º id –∏ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ–º (title).
    {id: 'cat', title: 'üê±'},
    {id: 'dog', title: 'üê∂'},
    {id: 'parrot', title: 'ü¶ú'},
    {id: 'fish', title: 'üê†'},
    {id: 'spider', title: 'üï∑'},
    {id: 'snake', title: 'üêç'},
    {id: 'hamster', title: 'üêπ'},
    {id: 'turtle', title: 'üê¢'},
    {id: 'chinchilla', title: 'ü¶á'},
    {id: 'hedgehog', title: 'ü¶î'},
    {id: 'rat', title: 'üêÄ'},
    {id: 'frog', title: 'üê∏'},
]

const cart = [] // –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–∏—Ç–æ–º—Ü–µ–≤

// –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Ç–æ–¥—ã document.querySelector –∏ document.getElementById –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã:

const petShop = document.querySelector('.pet-shop') // –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≥–¥–µ –±—É–¥—É—Ç —Ä–∞–∑–º–µ—â–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤.
const cartList = document.getElementById('cart-list') // —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ.
const messageBox = document.getElementById('message-box') // —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
const clearCartButton = document.getElementById('clear-cart-button') // –∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã.

// –†–µ–Ω–¥–µ—Ä–∏–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤
for (let i = 0; i < PETS.length; i++) { // –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ PETS
    const pet = PETS[i]
    const petButtonElement = document.createElement('button') // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è
    // –∫–Ω–æ–ø–∫–∞ —Å –ø–æ–º–æ—â—å—é document.createElement('button').
    petButtonElement.classList.add('pet') // –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è CSS-–∫–ª–∞—Å—Å pet –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏.
    petButtonElement.id = pet.id // –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π id, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π id –ø–∏—Ç–æ–º—Ü–∞.
    petButtonElement.textContent = pet.title // –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (title) ‚Äî —ç–º–æ–¥–∑–∏ –ø–∏—Ç–æ–º—Ü–∞.
    petShop.append(petButtonElement) // –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä .pet-shop —Å –ø–æ–º–æ—â—å—é append.
}

// –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
function updateCartDisplay() {
    cartList.innerHTML = '' // –æ—á–∏—â–∞–µ—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–ø–∏—Å–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã

    for (let i = 0; i < cart.length; i++) { // –ü–µ—Ä–µ–±–∏—Ä–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ cart, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π id –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤.
        const petId = cart[i]
        const pet = PETS.find((item) => item.id === petId) // –î–ª—è –∫–∞–∂–¥–æ–≥–æ id
        // –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –ø–∏—Ç–æ–º—Ü–∞ –≤ PETS —Å –ø–æ–º–æ—â—å—é find.
        const petSpanElement = document.createElement('li') // –°–æ–∑–¥–∞–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ (<li>),

        petSpanElement.classList.add('pet') // –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è CSS-–∫–ª–∞—Å—Å pet
        petSpanElement.textContent = pet.title // –∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞)
        cartList.append(petSpanElement) // —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ cartList.
    }
}

clearCartButton.addEventListener('click', function () { // –æ—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
    cart.length = 0 // –ø—Ä–æ—Å—Ç–æ –æ–±–Ω—É–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞
    updateCartDisplay() // –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
})

// –¢–≤–æ–π –∫–æ–¥:
petShop.addEventListener('click', function (event) { // –ù–∞–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è click
    // –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä .pet-shop (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ).
    const targetElement = event.target.id // –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É: –ø–æ–ª—É—á–∞–µ—Ç—Å—è id —ç–ª–µ–º–µ–Ω—Ç–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –∫–ª–∏–∫–Ω—É–ª–∏ (event.target.id).
    if (cart.length < 3) { // –µ—Å–ª–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ –º–µ–Ω—å—à–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤:
        cart.push(targetElement) // id –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤ cart
        updateCartDisplay() // –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è updateCartDisplay –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã.
    } else { // –µ—Å–ª–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ —É–∂–µ 3 –ø–∏—Ç–æ–º—Ü–∞
        messageBox.textContent = '–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤' // –≤ —ç–ª–µ–º–µ–Ω—Ç–µ messageBox –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
        // "–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤".
    }

})